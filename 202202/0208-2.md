# í˜ì´ì§€ ì „ì²´ê°€ ë¦¬ë Œë”ë§ ë˜ëŠ” í˜„ìƒ 

* [ë¬¸ì œ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆ](#ë¬¸ì œ-ì›ì¸ê³¼-í•´ê²°-ë°©ì•ˆ)
* [ì½”ë“œ ë³´ê¸°](#ì‘ì„±-ì½”ë“œ)

### ë¬¸ì œ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆ

* ë¬¸ì œ

ì €ì¶• ë‚´ì—­ í•„í„° ê¸°ëŠ¥ ì‚¬ìš© ì‹œ í˜ì´ì§€ ì „ì²´ê°€ ë¦¬ë Œë”ë§ì´ ë˜ëŠ” í˜„ìƒì„ ë°œê²¬í–ˆë‹¤. ë³€ê²½ëœ ì‚¬í•­ë§Œ ë¦¬ë Œë”ë§ ë˜ëŠ” ë¦¬ì•¡íŠ¸ì˜ íŠ¹ì¥ì ì´ ë¬´ë„ˆì§€ëŠ” ìˆœê°„ì´ì—ˆë‹¤. 

* ë¬¸ì œ ì›ì¸

ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²« ìš”ì²­ í›„ ì‘ë‹µë°›ì€ JSON ê°ì²´ì™€ ë””í´íŠ¸ í•„í„°ë§ í‚¤ì›Œë“œë¥¼ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚´ë ¤ì£¼ê³  ìˆì—ˆê³ , í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³€ê²½í•œ í•„í„°ë§ í‚¤ì›Œë“œë¥¼ ë‹¤ì‹œ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜¬ë ¤ì£¼ì—ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ëŠ” ë°”ë€ í•„í„°ë§ í‚¤ì›Œë“œì— ëŒ€í•´ ë‹¤ì‹œ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•˜ë‹ˆ í˜ì´ì§€ê°€ ì „ì²´ ë Œë”ë§ ë˜ëŠ” ê²ƒì´ì—ˆë‹¤.

* í•´ê²° ë°©ì•ˆ 

1. e.preventDefault() í•¨ìˆ˜ ì ìš©(âŒ) 
2. ìš”ì²­ì„ ë‘ ë²ˆ ë³´ë‚´ëŠ” ê²ƒìœ¼ë¡œ í•´ê²° (â­•ï¸)
> ì²˜ìŒ ë Œë”ë§ ì‹œ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ëŠ” ë””í´íŠ¸ í•„í„°ë§ í‚¤ì›Œë“œì— ëŒ€í•œ ì‘ë‹µ ê°ì²´ë¥¼ ë³´ë‚´ì£¼ë„ë¡ í–ˆê³ , í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„í„°ë§ í‚¤ì›Œë“œ ë³€ê²½ì— ëŒ€í•œ API ìš”ì²­ ë¡œì§ì„ ì‘ì„±í–ˆë‹¤.

### ì‘ì„± ì½”ë“œ

> ë³€ê²½ëœ ì‚¬í•­ë§Œ ì‘ì„±í•´ë†“ì€ ê²ƒì´ë¼ ì¼ë¶€ ìƒëµëœ ì»´í¬ë„ŒíŠ¸ ì¡´ì¬

* ì´ì „ ì½”ë“œğŸ’©

```javascript
// ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸
const SavingHistoryContainer = ({ id }) => {
  const [filter, setFilter] = useState({ period: "today", order: "desc" });

  const status = useSelector((state) => state.savingInfoReducer.savingInfo);
  const history = useSelector(
    (state) => state.savingHistoryReducer.savingHistory
  );
  const challenge = useSelector(
    (state) => state.challengeSummaryReducer.challengeSummaryInfo
  );

  const dispatch = useDispatch();

  useEffect(() => {
    dispatch(getSavingHistory(id, filter.period, filter.order));
    dispatch(getChallengesummaryInfo(id));
    dispatch(getSavingInfo(id));
  }, [filter]);

  if (history.loading) return <SavingHistorySkeleton />;
  if (history.error) return <div>ì—ëŸ¬ ë°œìƒ</div>;
  if (!history.data) return null;
  if (!challenge.data) return null;
  if (!status.data) return null;

  const handleFilter = (period, order) => {
    setFilter({
      ...filter,
      period,
      order,
    });
  };

  return (
    <SavingHistory
      savingHistory={history.data}
      challengeInfo={challenge.data}
      statusInfo={status.data}
      filter={filter}
      onFilter={handleFilter}
      id={id}
    />
  );
};

export default SavingHistoryContainer;
```

```javascript
// ìµœí•˜ìœ„ ì»´í¬ë„ŒíŠ¸(SavingFilterPopup.jsx)ì—ì„œ ë³€ê²½ëœ í•„í„° ê°’ì„ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë¦¬ëŠ” ë¡œì§
const handleSubmit = () => {
  const { period, order } = filter;
  onFilter(period, order);
  onClose();
};
```

* ë³€ê²½ ì½”ë“œâœ¨

```javascript
const SavingHistoryContainer = ({ id }) => {
  const status = useSelector((state) => state.savingInfoReducer.savingInfo);
  const history = useSelector(
    (state) => state.savingHistoryReducer.savingHistory
  );
  const challenge = useSelector(
    (state) => state.challengeSummaryReducer.challengeSummaryInfo
  );

  const dispatch = useDispatch();

  const filter = { period: "today", order: "desc" };

  useEffect(() => {
    dispatch(getSavingHistory(id, filter.period, filter.order));
    dispatch(getChallengesummaryInfo(id));
    dispatch(getSavingInfo(id));
  }, []);

  if (history.loading) return <SavingHistorySkeleton />;
  if (history.error) return <div>ì—ëŸ¬ ë°œìƒ</div>;
  if (!history.data) return null;
  if (!challenge.data) return null;
  if (!status.data) return null;

  return (
    <SavingHistory
      id={id}
      filter={filter}
      savingHistory={history.data}
      challengeInfo={challenge.data}
      statusInfo={status.data}
    />
  );
};

export default SavingHistoryContainer;
```

```javascript
// ì €ì¶• ë‚´ì—­ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸(SavingHistoryList.jsx)ì—ì„œ ì¬ìš”ì²­ ë¡œì§ ì‘ì„±
const handleFilter = (period, order) => {
  setOption({
    ...option,
    period,
    order,
  });
};

const handleHistoryData = async () => {
  const { data } = await axiosInstance.get(
    `/api/v1/users/challenges/${id}/saving-histories?period=${option.period}&ordering=${option.order}`
  );
  setFilteredData(data.data.saving_history);
};

useEffect(() => {
  handleHistoryData();
}, [option]);
```
