# ìƒˆë¡œê³ ì¹¨ í›„ API ìš”ì²­ ë˜ëŠ” ë¬¸ì œ

* [ë¬¸ì œ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆ](#ë¬¸ì œ-ì›ì¸ê³¼-í•´ê²°-ë°©ì•ˆ)
* [ìž‘ì„± ì½”ë“œ](#ìž‘ì„±-ì½”ë“œ)

### ë¬¸ì œ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆ

* ë¬¸ì œ

í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ìžê°€ ë¡œê·¸ì¸ í–ˆë‹¤ëŠ” ê²ƒì„ ê°€ì •í•˜ì— ì„œë¹„ìŠ¤ê°€ ì‹œìž‘ëœë‹¤. ë”°ë¼ì„œ, ë¡œê·¸ì¸ ì‹œ ë°œí–‰ë˜ëŠ” í† í°ì´ ìžˆì–´ì•¼ ë°ì´í„°ê°€ ë¶ˆëŸ¬ì™€ì§€ëŠ”ë° ë©”ì¸ íŽ˜ì´ì§€ì— ì ‘ê·¼ ì‹œ í† í°ì„ ë¶€ì—¬í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  
ë°”ë¡œ ë°ì´í„°ê°€ ë¶ˆëŸ¬ì™€ì§€ì§€ ì•Šê³ , ìƒˆë¡œê³ ì¹¨í•´ì•¼ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìžˆì—ˆë‹¤.

* ì›ì¸

1. SPAì™€ CSRì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ ì—†ì—ˆë‹¤.
2. ë¸Œë¼ìš°ì €ì— ì§„ìž… ì‹œ í† í°ì´ ë¸Œë¼ìš°ì €ì— ì €ìž¥ë˜ê¸°ë„ ì „ì— API í†µì‹ ì„ í•˜ë ¤ê³  í–ˆë‹¤.

* í•´ê²° ë°©ì•ˆ

1. ëžœë”© íŽ˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ì¿ í‚¤ê°€ ë¸Œë¼ìš°ì €ì— ì €ìž¥ë˜ëŠ” ì‹œê°„ì„ ë²Œì–´ë³´ìž (âŒ) => SPAì™€ CSRì— ëŒ€í•œ ì´í•´ ë¶€ì¡±ìœ¼ë¡œ ë‚˜ì˜¨ ë°©ì•ˆì´ë‹¤. ê²°êµ­ì— ë˜‘ê°™ì€ ê²ƒ
2. ë¸Œë¼ìš°ì €ì— ì¿ í‚¤ë¡œ í† í°ì„ ì €ìž¥í•˜ì§€ ë§ê³ , ìš”ì²­ ì£¼ì†Œ í—¤ë”ì— ì§ì ‘ì ìœ¼ë¡œ í† í°ì„ ì£¼ìž…í•˜ìž (â­•ï¸)

### ìž‘ì„± ì½”ë“œ

* ì´ì „ ì½”ë“œðŸ’©

```javascript
// utils/TokenApi.jsx
import axios from "axios";
import cookie from "react-cookies";

const TOKEN = cookie.load("TOKEN");

export const axiosInstance = axios.create({
  baseURL: URL,
  headers: { Authorization: TOKEN },
});

// App.jsx
const TOKEN = process.env.TOKEN;

useEffect(() => {
  const expires = new Date();
  expires.setMinutes(expires.getMinutes() + 60);
  cookie.save('TOKEN', TOKEN, {
    path: "/",
    expires,
  })
}, []);
```

* ë³€ê²½ ì½”ë“œâœ¨

```javascript
// utils/TokenApi.jsx
import axios from "axios";

const URL =
  window.location.hostname === "localhost" ? "/" : "http://183.99.247.17:8881";

export const axiosInstance = axios.create({
  baseURL: URL,
  headers: { Authorization: process.env.TOKEN },
});
```
